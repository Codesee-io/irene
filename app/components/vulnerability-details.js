import Ember from 'ember';
import ENUMS from 'irene/enums';

export default Ember.Component.extend({
  risks: ENUMS.RISK.CHOICES.slice(0, -1),
  isIgnoredAnalysis: true,
  isSavingStatus: false,

  vulnerabilityDetails: (function() {
    return this.get("store").find('vulnerability', 1);
  }).property(),

  actions: {
    selectMarkedAnalyis() {
      this.set("overriddenRisk", true);
    },
    editMarkedAnalysis() {
      this.set("overriddenRisk", false);
    },
    ignoreAnalysis() {
      this.set("isSavingStatus", true);
      const isChecked = this.$('#ignore-analysis')[0].checked;
      this.set("isIgnoredAnalysis", isChecked);
      this.set("isSavingStatus", false);
    }
  }
});
