<div class="tabs is-centered is-medium is-boxed">
  <ul>
    <li class={{if this.isSummary "is-active"}}>
      <a class="mp-display-summary" {{on "click" this.displaySummary}} >
        {{t "summary"}}
      </a>
    </li>
    <li class={{unless this.isSummary "is-active"}}>
      <a class="mp-display-details" {{on "click" this.displayDetails}}>
        {{t "details"}}
      </a>
    </li>
  </ul>
</div>

<div class="columns flex-center compare-container">
  <div class="column is-half">
    <LinkTo @route="authenticated.file" @model={{file1.id}}>
      {{file-overview file=file1 isReverse=true profileId=file1.profile.id}}
    </LinkTo>
  </div>
  <div class="column is-half">
    <LinkTo @route="authenticated.file" @model={{file2.id}}>
      {{file-overview file=file2 profileId=file2.profile.id}}
    </LinkTo>
  </div>
</div>

<div {{did-insert (action fetchdata)}} class="columns compare-details">
  <div class="column text-centre">
    {{t "compareSummary1"}}
    <select name="base-file-id" id="base-file-id" {{on "change" this.selectBaseFile}}>
      <option value={{file1.id}}>{{file1.id}}</option>
      {{#each allBaseFiles as |file|}}
        <option value={{file.id}}>{{file.id}}</option>
      {{/each}}
    </select>
    &nbsp; {{t "compareSummary2"}}
    <select name="compare-file-id" id="compare-file-id" {{on "change" this.selectCompareFile}}>
      <option value={{file2.id}}>{{file2.id}}</option>
      {{#each allCompareFiles as |file|}}
        <option value={{file.id}}>{{file.id}}</option>
      {{/each}}
    </select>
  </div>
</div>

{{#if compareText}}
  <div class="columns">
    <div class="column compare-text">
      {{fa-icon "exclamation-triangle"}} {{compareText}}
    </div>
  </div>
{{/if}}

{{#if this.isSummary}}
  <table class="compare-table">
    <tr class="table-head">
      <td colspan="2">
        {{t "riskType"}}
      </td>
      <td rowspan="2">
        {{t "riskOf"}}
      </td>
      <td rowspan="2">
        {{t "status"}}
      </td>
    </tr>
    <tr class="table-head">
      <td>
        <div>File ID {{file1.id}}</div>
        <div>{{t "version"}} &nbsp; {{file1.version}}</div>
        <span class="arrow-left">
          {{fa-icon "long-arrow-left"}}
        </span>
      </td>
      <td>
        <div>File ID {{file2.id}}</div>
        <div>{{t "version"}} &nbsp; {{file2.version}}</div>
      </td>
    </tr>
    {{#each comparisons as |comparison|}}
      {{compare-summary comparison=comparison}}
    {{/each}}
  </table>
{{else}}
  <div class="columns">
    {{#each comparisons as |comparison|}}
      <div class="column is-half">
        {{analysis-details analysis=comparison.analysis1 showEditAnalysis=false}}
      </div>
      <div class="column is-half">
        {{analysis-details analysis=comparison.analysis2 showEditAnalysis=false}}
      </div>
    {{/each}}
  </div>
  <hr>
{{/if}}
